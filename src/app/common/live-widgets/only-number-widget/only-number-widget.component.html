
<div class="mt-1">
<div class="card" id="{{chartConfig.chartId}}">
  <div class="card-header py-3">
    <h6 class="col-md-10 m-0 font-weight-bold live-widget-title" title="{{chartConfig.widgetTitle}}">
      {{chartConfig.widgetTitle}}
    </h6>
    <a *ngIf="!device" class="float-right pull-right col-md-1 mt-n4" href="javascript:void(0)" (click)="openConfirmRemoveWidgetModal()"><i class="fa fa-close"></i></a>
  </div>
  <div class="card-body1" style="height: 12rem;">
    <div class="row text-center " *ngIf="telemetryObj">
      <div class="col-md-{{12 / chartConfig?.properties?.length}} text-center" *ngFor="let prop of chartConfig.properties; let i = index"
      [ngClass]="{'border-left': i > 0}">

        <span class="text-xs">{{prop.title}}
          {{prop.property.json_model[prop.property.json_key].units ? ('(' + prop.property.json_model[prop.property.json_key].units + ')') : ''}}
        </span>

        <div style="margin-left: 2.2rem;" class="mt-3" *ngIf="chartConfig.widgetType === 'NumberWithTrend'">
          <app-line-chart-without-axis
          [chartId]="chartConfig.chartId + '_' + prop + '_' + i"
            [telemetryData]="telemetryData"
            [property]="prop.property.json_key"
          ></app-line-chart-without-axis>
        </div>
        <div class="text-center" *ngIf="chartConfig.widgetType === 'NumberWithImage'">
          <img
            class="img-fluid px-2 img-szmd"
            src="{{prop?.image?.url + blobToken
            }}"
            alt=""
          />
        </div>
        <div [ngClass]="{'mt-4': chartConfig.widgetType === 'OnlyNumber'}">
          <span class="text-darkblue display-5 font-weight-bold text-lg" [ngStyle]="{'font-size': chartConfig.widgetType === 'OnlyNumber' ? '2rem' : '' }">
            {{ telemetryObj[prop.property.json_key]?.toFixed(prop.digitsAfterDecimals)}} {{prop.unit}}
          </span>
        </div>




      </div>
    </div>
  </div>
</div>
</div>

<div class="modal fade" id="confirmRemoveWidgetModal{{chartConfig.chartId}}" tabindex="-1" role="dialog" aria-labelledby="ModalLabel2">
  <div class="modal-dialog" role="document">
    <app-confirm-modal *ngIf="modalConfig" [bodyMessage]="bodyMessage"
    [headerMessage]="headerMessage"
    (modalEvents)="onModalEvents($event)" [modalConfig]="modalConfig"></app-confirm-modal>
  </div>
</div>
