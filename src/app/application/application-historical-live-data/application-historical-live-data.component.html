<!-- <p>application-historical-live-data works!</p> -->
<div class="blue-nav-bar">
  <div class="d-flex align-items-center">
    <div class="d-flex align-items-center">
      <div class="main-heading ">Historical & Live Data</div>
    </div>
    <div class="ml-auto">
      <div class="">
        <form class="form-inline">
          <app-hierarchy-dropdown #hierarchyDropdown *ngIf="filterObj" [showAsset]="true" [closeOnSelection]="true"
            [filterObj]="filterObj" [assets]="assets" (saveHierarchyEvent)="onSaveHierachy()"
            (clearHierarchyEvent)="onClearHierarchy()">
          </app-hierarchy-dropdown>
          <div class="form-group"><button type="button" class="btn btn-sm searchBtn btn-primary"
              (click)="onFilterSelection(this.filterObj, true, true);" [disabled]="isTelemetryDataLoading"><em
                class="fas fa-search fa-sm"></em></button></div>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="tab-bar">
  <ng-container>
    <!-- <div class="" *ngIf="!isTelemetryDataLoading && telemetryObj && isFilterSelected && originalFilter?.asset ">
      <div class="">Welcome to {{originalFilter.asset?.display_name ? originalFilter.asset?.display_name :
        originalFilter.asset?.asset_id}}</div>
    </div>
    <ng-container *ngIf="contextApp?.dashboard_config?.show_live_widgets">
      <div class="" *ngIf="!isTelemetryDataLoading && !telemetryObj && isFilterSelected">
        No data available since mid night.
      </div>
      <div class="ml-auto" *ngIf="!isTelemetryDataLoading && telemetryObj && isFilterSelected && originalFilter?.asset">
        <div class="">*{{sampleCountValue}} samples in last 1 minute
        </div>
      </div>
    </ng-container> -->

    <div class="" *ngIf="!isFilterSelected">
      Please select an asset and click on search to view the data.
    </div>


  </ng-container>
  <div class="form-group mb-0">
    <ng-template #filterTemplate>
      <form class="form-inline">

        <app-date-range-picker *ngIf="historicalDateFilter.from_date && historicalDateFilter.to_date"
          [filterObj]="historicalDateFilter" (selectedDateApplyEmitter)="selectedDate($event)"
          [selectedDateRange]="selectedDateRange">
        </app-date-range-picker>
      
      </form>
    </ng-template>

    <ng-container *ngIf="isFilterSelected">
      <ng-container *ngTemplateOutlet="filterTemplate"></ng-container>
    </ng-container>
  
  </div>
</div>
<!-- <app-historical-livechart></app-historical-livechart> -->
  <div class="historical-livechart-container" #historicalLivechart *ngIf="historicalCombineWidgets.length > 0" (scroll)="onScroll($event)">
    <ng-container
    *ngFor="let widget of historicalCombineWidgets; let i = index;">
    <app-historical-livechart
        [chartConfig]="widget"
        [live_Date]="live_Date"
        [newData]="historical_livedata"
        [propertyList]="propertyList"
        [assetWiseTelemetryData]="assetWiseTelemetryData"
        [isLoadingData] = "isLoadingData"
        [chartHeight]="" [chartWidth]=""
        [dvRowCardHeaderClass]="'card shadow h-100'"
        [chartStartdate]="historicalDateFilter.from_date"
        [chartEnddate]="historicalDateFilter.to_date"
        [hideCancelButtonAddOnClass]=""
        [anchorAdditionalClass]="'border-0 rounded-0'"
        *ngIf="widget.chartType === 'LineChart' || widget.chartType === 'AreaChart'">
    </app-historical-livechart>
    </ng-container>
  </div>
