<!-- Topbar -->

<nav class="navbar navbar-expand navbar-light bg-white topbar static-top" *ngIf="!isLoginRoute && userData">

  <!-- Sidebar Toggle (Topbar) -->
  <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3" (click)="onSideBarToggleTopClick()">
    <i class="fa fa-bars"></i>
  </button>

  <!-- Sidebar - Brand -->
  <a class="d-flex align-items-center justify-content-center" *ngIf="!userData?.is_super_admin"
   href="javascript:void(0)" (click)="redirectToFirstMenu()">
    <img src="{{contextApp?.metadata?.header_logo?.url + blobToken}}" class="d-block img-fluid img-logo">
  </a>
  <a class="d-flex align-items-center justify-content-center" *ngIf="userData?.is_super_admin"
  [routerLink]="['applications']">
    <img src="../../assets/img/logo.png" class="d-block img-fluid img-logo">
  </a>

  <div class="topbar-divider ml-3 mr-4 mt-n2 d-none d-xl-block"></div>

  <nav aria-label="breadcrumb" class="d-none d-xl-block">
    <ol class="breadcrumb py-2 mb-1">
      <li class="breadcrumb-item active" aria-current="page" >
        <ng-container *ngFor="let data of breadcrumbData; last as isLast; let i = index;">
        <a *ngIf="!isLast" href="javascript:void(0)" (click)="onClickOfBreadcrumbItem(data, i)">{{data.title}}</a>
        <span *ngIf="!isLast">&nbsp;/&nbsp;</span>
        <a *ngIf="isLast">{{data.title}}</a>
      </ng-container>
      </li>
    </ol>
  </nav>



  <!-- Topbar Navbar -->
  <ul class="navbar-nav ml-auto">

    <!-- Topbar Search -->
    <li class="nav-item ml-3 mt-3">
      <form class="d-none d-sm-inline-block form-inline navbar-search">
        <div class="input-group">
          <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..."
            aria-label="Search" aria-describedby="basic-addon2">
          <div class="input-group-append">
            <button class="btn btn-primary" type="button">
              <i class="fas fa-search fa-sm"></i>
            </button>
          </div>
        </div>
      </form>
    </li>

    <!-- Nav Item - Search Dropdown (Visible Only XS) -->
    <li class="nav-item dropdown no-arrow d-sm-none">
      <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        <i class="fas fa-search fa-fw"></i>
      </a>
      <!-- Dropdown - Messages -->
      <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
        <form class="form-inline mr-auto w-100 navbar-search">
          <div class="input-group">
            <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..."
              aria-label="Search" aria-describedby="basic-addon2">
            <div class="input-group-append">
              <button class="btn btn-primary" type="button">
                <i class="fas fa-search fa-sm"></i>
              </button>
            </div>
          </div>
        </form>
      </div>
    </li>




    <div class="topbar-divider d-none d-sm-block"></div>

    <!-- Nav Item - User Information -->
    <li class="nav-item dropdown no-arrow">
      <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        <!-- <span>{{contextApp?.user.role}}</span>
        <br/>
        <span class="mr-2 d-none d-lg-inline text-gray-600 small">{{userData?.name}}</span> -->
        <span class="mr-2 d-none d-lg-block">
          <span class="text-gray-600">{{userData?.name}}</span>
          <small class="text-muted-dark d-block ">{{contextApp?.user.role}}</small>
        </span>

        <img class="img-profile rounded-circle" src="../../assets/img/user.jpg">
      </a>
      <!-- Dropdown - User Information -->
      <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
        <a class="dropdown-item" href="#">
          <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
          Profile
        </a>
        <a class="dropdown-item" href="#">
          <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
          Settings
        </a>
        <a class="dropdown-item" href="#">
          <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
          Activity Log
        </a>

        <ng-container  *ngIf="userData.apps.length > 1">
          <div class="dropdown-divider"></div>
        <a class="dropdown-item"
        [routerLink]="['applications', 'selection']" routerLinkActive="active" >
          <i class="fas fa-th-large fa-sm fa-fw mr-2 text-gray-400"></i>
          Change Application
        </a>
        </ng-container>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
          <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
          Logout
        </a>
      </div>
    </li>

  </ul>

</nav>
<!-- End of Topbar -->

<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
        <button class="close" type="button" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">Select "Logout" below if you are ready to end your session.</div>
      <div class="modal-footer">
        <button class="btn btn-primary" type="button" (click)="onLogout()">Logout</button>
        <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<nav class="navbar navbar-expand navbar-light bg-gradient-light topbar static-top" *ngIf="isLoginRoute">

  <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3" (click)="onSideBarToggleTopClick()">
    <i class="fa fa-bars"></i>
  </button>


  <!-- Sidebar - Brand -->
  <a class="d-flex align-items-center justify-content-center">
  <img src="../../assets/img/logo.png" class="d-block img-fluid">
  </a>

 <!-- Sidebar - Brand -->
  <!-- <a class="d-flex justify-content-end" style="margin-right:7rem;">
  <img src="../../assets/img/kaynes-logo.png" class="d-none d-md-block img-fluid">
  </a> -->

  <!-- Topbar Navbar -->
  <ul class="navbar-nav ml-auto" *ngIf="!url.includes('login')">

    <!-- Nav Item - User Information -->
    <li class="nav-item dropdown no-arrow">
      <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
        aria-haspopup="true" aria-expanded="false">
        <!-- <span>{{contextApp?.user.role}}</span>
        <br/>
        <span class="mr-2 d-none d-lg-inline text-gray-600 small">{{userData?.name}}</span> -->
        <span class="mr-2 d-none d-lg-block">
          <span class="text-gray-600">{{userData?.name}}</span>
          <small class="text-muted-dark d-block ">{{contextApp?.user.role}}</small>
        </span>

        <img class="img-profile rounded-circle" src="../../assets/img/user.jpg">
      </a>
      <!-- Dropdown - User Information -->
      <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
        <a class="dropdown-item" href="#">
          <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
          Profile
        </a>
        <a class="dropdown-item" href="#">
          <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
          Settings
        </a>
        <a class="dropdown-item" href="#">
          <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
          Activity Log
        </a>

        <ng-container  *ngIf="userData?.apps.length > 1">
          <div class="dropdown-divider"></div>
        <a class="dropdown-item"
        [routerLink]="['applications', 'selection']" routerLinkActive="active" >
          <i class="fas fa-th-large fa-sm fa-fw mr-2 text-gray-400"></i>
          Change Application
        </a>
        </ng-container>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
          <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
          Logout
        </a>
      </div>
    </li>

  </ul>

      </nav>

