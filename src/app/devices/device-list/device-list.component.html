<!-- Page Heading -->
<div class="d-sm-flex align-items-center justify-content-start mb-4">
  <h1 class="h3 mb-0 text-gray-800">Device Management</h1>
  <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm ml-4"><i
      class="fas fa- fa-sm text-white-50"></i> Filter</a>
  <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-warning shadow-sm ml-4"><i
      class="fas fa- fa-sm text-white-50"></i> Add Device</a>
</div>

<!-- Content Row -->
<div class="row">


  <div class="col-xl-12 col-md-12 mb-12">
    <div class="card h-100 py-2 px-2">
      <!-- <div class="card-body">
        <form class="d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
          <div class="input-group">
            <input type="text" class="form-control bg-light border-0 small mr-3" placeholder="Device Name"
            aria-label="Search" aria-describedby="basic-addon2" [(ngModel)]="deviceFilterObj.name" name="name">
            <input type="text" class="form-control bg-light border-0 small mr-3" placeholder="Device Manager"
            aria-label="Search" aria-describedby="basic-addon2" [(ngModel)]="deviceFilterObj.device_manager" name="device_manager">
            <input type="text" class="form-control bg-light border-0 small mr-3" placeholder="App"
            aria-label="Search" aria-describedby="basic-addon2"  [(ngModel)]="deviceFilterObj.app" name="app">
            <input type="text" class="form-control bg-light border-0 small mr-3" placeholder="Location"
            aria-label="Search" aria-describedby="basic-addon2"  [(ngModel)]="deviceFilterObj.location" name="location">
            <input type="text" class="form-control bg-light border-0 small mr-3" placeholder="Connection State"
            aria-label="Search" aria-describedby="basic-addon2"  [(ngModel)]="deviceFilterObj.connection_state" name="connection_state">

            <div class=" mr-3">
              <button class="btn btn-warning" (click)="searchDevices()" type="button"><i
                  class="fas fa-search fa-sm"></i> Search</button>
            </div>
            <div class=" mr-3">
              <button class="btn btn-primary" type="button">Clear</button>
            </div>
          </div>
        </form>
      </div> -->

      <form>
        <div class="form-group form-inline my-1">

          <input type="email" class="form-control form-control-sm mx-1 my-1" id="inputEmail4" placeholder="Device Name"
          [(ngModel)]="deviceFilterObj.name" name="name">
          <input type="password" class="form-control form-control-sm mx-1 my-1" id="inputPassword4" placeholder="Device Manager"
          [(ngModel)]="deviceFilterObj.device_manager" name="device_manager">

          <input type="email" class="form-control form-control-sm mx-1 my-1" id="inputEmail4" placeholder="Location"
          [(ngModel)]="deviceFilterObj.location" name="location">
          <!-- <input type="email" class="form-control form-control-sm mx-1 my-1" id="inputEmail4" placeholder="Device Status"
          [(ngModel)]="deviceFilterObj.status" name="status"> -->
          <select class="form-control form-control-sm mx-1 my-1" id="dateoptions"
          [(ngModel)]="deviceFilterObj.status" name="status">
          <option [ngValue]="undefined">Device Status</option>
          <option [ngValue]="'enabled'">Enabled</option>
          <option [ngValue]="'disabled'">Disabled</option>
          </select>
          <!-- <input type="email" class="form-control form-control-sm mx-1 my-1" id="inputEmail4" placeholder="Connection State"
          [(ngModel)]="deviceFilterObj.connection_state" name="connection_state"> -->
          <select class="form-control form-control-sm mx-1 my-1" id="connection_state"
          [(ngModel)]="deviceFilterObj.connection_state" name="connection_state">
          <option [ngValue]="undefined">Connection State</option>
          <option [ngValue]="'connected'">Connected</option>
          <option [ngValue]="'disconnected'">Disconnected</option>
          </select>
          <button type="button" class="form-control btn btn-warning btn-sm mx-1 my-1" (click)="searchDevices()" >Search</button>
          <button type="button" class="form-control btn btn-light btn-sm mx-1 my-1" >Clear</button>

        </div>
       </form>
    </div>
  </div>
</div>

<!-- Content Row -->

<!-- DataTales Example -->
<div class="card mb-4 mt-3">

  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered table-striped" id="dataTable" width="100%" cellspacing="0">
        <thead>
          <tr  class="bg-secondary text-white">
            <th>Device Name</th>
            <th>Device Manager</th>
            <th>Connectivity</th>
            <th>Issued By</th>
            <th>Location</th>
            <th>Actions</th>
          </tr>
        </thead>
        <!-- <tfoot>
          <tr>
            <th>Name</th>
            <th>Position</th>
            <th>Office</th>
            <th>Age</th>
            <th>Start date</th>
            <th>Salary</th>
          </tr>
        </tfoot>-->
        <tbody>
          <ng-container *ngIf="devicesList.length > 0 && !isDeviceListLoading">
            <tr *ngFor="let device of devicesList">
              <td>{{device.device_id}}</td>
              <td>{{device.tags?.device_manager}}</td>
              <td>{{device.tags?.connectivity?.network}}</td>
              <td>{{device.tags?.issued_by}}</td>
              <td>{{device.tags?.location}}</td>
              <td><a [routerLink]="[device.device_id, 'control-panel']" routerLinkActive="router-link-active" >Control Panel</a></td>
            </tr>
          </ng-container>
          <ng-container *ngIf="devicesList.length === 0 && !isDeviceListLoading">
            <tr>
              <td colspan="6">No Devices found.</td>
            </tr>
          </ng-container>
          <ng-container *ngIf="isDeviceListLoading">
            <tr>
              <td colspan="6">
                <i class="fa fa-spinner fa-spin fa-fw fa-2x"></i>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
