<div class="row mt-1 mx-auto">

  <div class="col-xl-6 col-lg-6">

    <div class="row col-md-12">
      <h1 class="h6 mb-3 text-secondary-400 col-md-10"><b>Register Devices:</b></h1>
      <a
    class="d-none d-sm-inline-block btn btn-sm btn-warning shadow-sm mb-1"
    href="javascript:void(0)"
    (click)="registerDevices()"
    ><i class="fa fa- fa-sm text-white-50"></i> Register</a
  >
    </div>

    <div class="table-responsive">
      <table class="table table-bordered  table-striped text-gray-800" id="dataTable" width="100%" cellspacing="0">
        <thead>
          <tr>
            <th class="text-center"><input type="checkbox" name="visibleall"
              id="visibleall" (change)="onClickOfDeviceAllCheckbox()" [(ngModel)]="isAllDeviceSelected"
              title="{{isAllDeviceSelected ? 'Deselect All' : 'Select All'}}"/></th>
            <th>Device</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngIf="devices.length > 0 && !isDevicesAPILoading"></ng-container>
          <tr *ngFor="let device of devices; let i = index">
            <td  class="text-center">
              <input type="checkbox" name="visible{{i}}"
                  id="visible{{i}}" (change)="onDeviceSelection(device)"
                  [checked]="checkForDeviceVisibility(device)" />
            </td>
            <td>
                {{device.display_name}}
            </td>
          </tr>
          <tr *ngIf="devices.length === 0 && !isDevicesAPILoading">
            <td colspan="2">No devices available.</td>
          </tr>
          <tr *ngIf="isDevicesAPILoading">
            <td colspan="2"><i class="fa fa-spinner fa-spin fa-fw fa-2x text-center"></i></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-xl-6 col-lg-6">
    <div class="row col-md-12">
      <h1 class="h6 mb-3 text-secondary-400 col-md-10"><b>Deregister Devices:</b></h1>
      <a
    class="d-none d-sm-inline-block btn btn-sm btn-warning shadow-sm mb-1"
    href="javascript:void(0)"
    (click)="deregisterDevices()"
    ><i class="fa fa- fa-sm text-white-50"></i> Deregister</a
  >
    </div>
    <div class="table-responsive">
      <table class="table table-bordered  table-striped text-gray-800" id="dataTable" width="100%" cellspacing="0">
        <thead>
          <tr>
            <th class="text-center"><input type="checkbox" name="visibleall"
              id="visibleall" (change)="onClickOfRegisteredDeviceAllCheckbox()" [(ngModel)]="isAllRegisteredDeviceSelected"
              title="{{isAllRegisteredDeviceSelected ? 'Deselect All' : 'Select All'}}"/></th>
            <th>Device</th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let device of devices; let i = index;">
          <tr *ngIf="deviceTwin.twin_properties.reported.registered_devices.indexOf(device.device_id) !== -1">
            <td  class="text-center">
              <input type="checkbox" name="visible{{i}}"
                  id="visible{{i}}" (change)="onRegisteredDeviceSelection(device)"
                  [checked]="checkForRegisteredDeviceVisibility(device)" />
            </td>
            <td>
                {{device.display_name}}
            </td>
          </tr>
        </ng-container>
        <ng-container *ngIf="deviceTwin.twin_properties.reported.registered_devices.length === 0">
          <tr>
            <td colspan="2">No Devices are registered.</td>
          </tr>
        </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div class="row mt-1 mx-auto">


</div>
