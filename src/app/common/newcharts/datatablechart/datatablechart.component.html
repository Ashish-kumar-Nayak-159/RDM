<accordion class="mb-2" id="{{chartId}}_{{chartId}}">
    <accordion-group heading="" [panelClass]="'customClass'" [isOpen]="true">
        <ng-container accordion-heading>
            <a class="btn" type="button">
                {{chartTitle}}
            </a>
            <div class="float-right pull-right mt-1">
                <div class="round-badge badge-navyblue" tooltip="Derived KPI" *ngIf="chartConfig.derived_kpis">DK</div>
                <div class="round-badge badge-darkblue" tooltip="Edge Derived Property"
                    *ngIf="chartConfig.edge_derived_props">
                    ED</div>
                <div class="round-badge badge-lightblue" tooltip="Cloud Derived Property"
                    *ngIf="chartConfig.cloud_derived_props">CD</div>
                <div class=" round-badge badge-blue" tooltip="Measured Property" *ngIf="chartConfig.measured_props">M
                </div>
                <!-- <a *ngIf="hideCancelButton  && decodedToken?.privileges?.indexOf('ASMMM') > -1"
            (click)="openConfirmRemoveWidgetModal()" placement="bottom" tooltip="Remove {{widgetStringFromMenu}}"
            class="float-right pull-right mt-1" href="javascript:void(0)"><em class="fa fa-close"></em></a>
         -->
                <button (click)="$event.stopPropagation()" class="border-0 btnStyle"
                    style="background-color: transparent;" mat-icon-button [matMenuTriggerFor]="menu"
                    aria-label="Example icon button with a horizontal three dot icon">
                    <i class='fas fa-ellipsis-v'></i>
                </button>
                <mat-menu class="micon" #menu="matMenu">
                    <button mat-menu-item (click)="onMenu(0)"><i class="fa fa-edit"></i> Edit</button>
                    <button mat-menu-item (click)="onMenu(1)"><i class="fa fa-clone" aria-hidden="true"></i>
                        Clone</button>
                    <button mat-menu-item (click)="openConfirmRemoveWidgetModal()"
                        *ngIf="hideCancelButton  && decodedToken?.privileges?.indexOf('ASMMM') > -1">
                        <i class="fa fa-trash" aria-hidden="true"></i> Delete
                    </button>
                </mat-menu>
            </div>
        </ng-container>
        <div class="row">
            <div class="col-12">
                <div class="card shadow h-100">
                    <div class="card-body1" style="max-height: 25rem; overflow-y: auto;"
                        *ngIf="telemetryData.length > 0 else noData;">
                        <div class="table-responsive tableFixHead" id="{{ chartId }}"
                            [ngStyle]="{'width': chartWidth, 'height': chartHeight, 'max-height': chartHeight}">
                            <table class="table table-hover" id="dataTable" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        <th scope="col">Date</th>
                                        <ng-container *ngFor="let item of y1AxisProps">
                                            <th scope="col" *ngIf="!item.hidden">
                                                <em class="icon icon-function"
                                                    *ngIf="getPropertyType(item.json_key) === 'Edge Derived Properties' || getPropertyType(item.json_key) === 'Cloud Derived Properties'">&nbsp;</em>{{getPropertyName(item.json_key)}}
                                            </th>
                                        </ng-container>
                                        <ng-container *ngFor="let item of y2AxisProps">
                                            <th scope="col" *ngIf="!item.hidden">

                                                <em class="icon icon-function"
                                                    *ngIf="getPropertyType(item.json_key) === 'Edge Derived Properties' || getPropertyType(item.json_key) === 'Cloud Derived Properties'">&nbsp;</em>
                                                {{getPropertyName(item.json_key)}}
                                            </th>
                                        </ng-container>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container>
                                        <tr *ngFor="let obj of telemetryData">
                                            <td>{{ obj.message_date }}</td>
                                            <ng-container *ngFor="let item of y1AxisProps">
                                                <td *ngIf="!item.hidden">
                                                    {{ obj[item.json_key] }}</td>
                                            </ng-container>
                                            <ng-container *ngFor="let item of y2AxisProps">
                                                <td *ngIf="!item.hidden">{{ obj[item.json_key] }}</td>
                                            </ng-container>
                                        </tr>
                                    </ng-container>


                                </tbody>
                            </table>
                            <div class="overlay" *ngIf="isOverlayVisible">
                                <div style="font-family:'Arial Black',sans-serif; font-size: 40px;">Sample Chart</div>
                            </div>
                        </div>
                    </div>
                    <ng-template #noData>
                        <p>No data found for selected time interval.</p>
                    </ng-template>
                </div>
            </div>
        </div>
    </accordion-group>
</accordion>

<div class="modal fade" id="confirmRemoveWidgetModal{{chartId}}" tabindex="-1" role="dialog"
    aria-labelledby="ModalLabel2">
    <div class="modal-dialog" role="document">
        <app-confirm-modal *ngIf="modalConfig" [bodyMessage]="bodyMessage" [headerMessage]="headerMessage"
            (modalEvents)="onModalEvents($event)" [modalConfig]="modalConfig"></app-confirm-modal>
    </div>
</div>